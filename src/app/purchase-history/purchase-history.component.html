
<div class="container border" style="margin-top: 8%">
    <div class="row">
        <div class="row mt-3">
            <div class="form-group row">
                <div class="col-md-1 offset-3">
                    <label for="userName">Email</label>
                </div>
                <div class="col-md-4">
                     <input type="text"  id="email" name="email"  [(ngModel)]="paymentObject.email"  placeholder="Enter email" class="form-control"/>
                </div>
                <div class="col-md-3"></div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="form-group row">
                <div class="col-md-5"></div>
                <div class="col-md-2" align="center">
                     <button class="btn btn-primary btn-block form-control" (click)="GetPaymentHistory()" > Search  </button>
                </div>
                <div class="col-md-5"></div>
            </div>
        </div>
    </div>
    <br/>
    <div class="row" *ngIf="payments.length">
        <div class="table-responsive" id="divBook">
            <div class="table-responsive">
                <table class="table table-striped border">
                    <thead>
                        <tr class="table-secondary">
                            <th>Book Title</th>
                            <th>Email</th>
                            <th>Paymemt date</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor = "let pay of payments">
                            <td>{{pay.bookId}}</td>
                            <td>{{pay.email}}</td>
                            <td>{{pay.paymentDate}}</td>
                            <td><a class="btn btn-info  text-white" type="button" (click)="OpenInvoiceModel(template, pay.bookId)">Invoice</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <ng-template #template >  
        <div class="modal-header">  
          <h4 class="modal-title pull-left">Invoice</h4> 
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">  
            <span aria-hidden="true">Ã—</span>  
          </button>  
        </div>  
        <div class="modal-body">
            <div class="border">
                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-2"><h5>Book title</h5></div>
                    <div class="col-md-4"><h6>{{ bookObject.bookTitle }}</h6></div>
                    <div class="col-md-3"></div>
                </div>
                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-2"><h5>Price:</h5></div>
                    <div class="col-md-4"><h6>{{ bookObject.price }}</h6></div>
                    <div class="col-md-3"></div>
                </div>
            </div>
        </div>
        <div class="modal-footer">  
          <button type="button" class="btn btn-default" (click)="modalRef.hide()">Close</button>  
        </div>  
      </ng-template>  


</div>
